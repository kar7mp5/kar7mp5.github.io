<nav>
  <h2>Categories</h2>
  <ul>
    {% assign categories = site.posts | map: 'categories' | join: ',' | split: ',' | uniq | sort %}
    {% for category in categories %}
    {% if category != '' %}
    <li>
      <strong>{{ category }}</strong>
      <ul>
        {% for post in site.posts %}
        {% if post.categories contains category %}
        <li><a href="{{ post.url }}">{{ post.title }}</a></li>
        {% endif %}
        {% endfor %}
      </ul>
    </li>
    {% endif %}
    {% endfor %}
  </ul>
</nav>